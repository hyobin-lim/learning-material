<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>브라우저 해석 과정(Browser Parsing Process)</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        line-height: 1.7;
        margin: 24px;
        background: #f7f9fc;
        color: #222;
      }
      h1,
      h2 {
        color: #192044;
      }
      h3 {
        color: #2c3e7a;
        margin-top: 18px;
      }
      p {
        margin: 8px 0;
      }
      ul,
      ol {
        margin: 8px 0 12px 20px;
      }
      li {
        margin: 4px 0;
      }
      pre {
        background: #eef2f7;
        padding: 12px;
        border-radius: 8px;
        overflow-x: auto;
        border: 1px solid #d7dee8;
      }
      code {
        font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      }
      table {
        border-collapse: collapse;
        margin: 12px 0;
        width: 100%;
      }
      th,
      td {
        border: 1px solid #d7dee8;
        padding: 8px;
        text-align: left;
      }
      th {
        background: #f0f3f8;
      }
      .demo {
        background: #fff;
        border: 1px solid #d7dee8;
        border-radius: 8px;
        padding: 10px;
        margin: 10px 0;
      }
      .callout {
        background: #e9f7ff;
        border-left: 4px solid #00aaff;
        padding: 10px;
        margin: 14px 0;
      }
    </style>
  </head>
  <body>
    <h1 id="browser-parsing-process">브라우저 해석 과정(Browser Parsing Process)</h1>
    <p>
      브라우저는 HTML, CSS, 자바스크립트를 순차적으로 해석하고 실행하여 화면을 렌더링합니다. 이 과정을 이해하면 성능 최적화와 오류 방지에 도움이 됩니다. <br />
      <strong>왜 중요한가?</strong> → 코드가 실행되는 순서를 알면 불필요한 지연을 줄이고, 사용자 경험을 개선할 수 있습니다.
    </p>

    <h2>해석 순서</h2>
    <p>브라우저가 문서를 처리하는 기본 흐름입니다.</p>
    <ol>
      <li><strong>HTML 파싱:</strong> 문서 구조를 분석하고 DOM(Document Object Model)을 생성합니다. → 화면의 뼈대</li>
      <li><strong>CSS 파싱:</strong> 스타일 규칙을 적용하여 CSSOM을 만들고, DOM과 결합해 렌더 트리를 생성합니다. → 화면의 옷</li>
      <li><strong>JS 실행:</strong> <code>&lt;script&gt;</code> 태그를 만나면 자바스크립트 엔진이 코드를 실행합니다. → 화면의 동작</li>
      <li><strong>렌더링:</strong> Render Tree를 기반으로 Layout과 Paint 과정을 거쳐 화면에 표시합니다. → 사용자에게 보여줌</li>
    </ol>

    <h3>렌더링 과정 요약</h3>
    <p>HTML → DOM / CSS → CSSOM → Render Tree → Layout → Paint → 화면 표시</p>

    <h2>DOMContentLoaded 이벤트</h2>
    <p>
      HTML과 DOM이 모두 로드되었을 때 발생하는 이벤트입니다.<br />
      <strong>왜 쓰는가?</strong> → DOM이 준비된 시점에 안전하게 요소를 조작할 수 있기 때문입니다. CSS와 이미지 로딩은 기다리지 않으므로 빠른 초기화가 가능합니다.
    </p>
    <pre><code>document.addEventListener("DOMContentLoaded", function() {
  console.log("DOM이 준비되었습니다!");
});
</code></pre>

    <h3>DOMContentLoaded vs load 이벤트</h3>
    <ul>
      <li><strong>DOMContentLoaded:</strong> DOM만 준비되었을 때 발생 → 빠른 초기화 가능</li>
      <li><strong>load:</strong> 이미지, CSS, JS까지 모두 로드된 후 발생 → 전체 리소스 준비 완료</li>
    </ul>

    <h2>렌더링 차단(Block)</h2>
    <p>브라우저는 기본적으로 위에서 아래로 코드를 읽습니다. <br />하지만 특정 자원(JS, CSS)이 늦게 로드되면 화면 표시가 지연될 수 있습니다.</p>
    <ul>
      <li>스크립트가 문서 상단에 있으면 HTML 파싱을 멈추고 실행 → 렌더링 지연</li>
      <li>CSS가 늦게 로드되면 화면 깜빡임(FOUT, Flash of Unstyled Text) 발생</li>
    </ul>
    <pre><code>&lt;!-- 차단 예시 --&gt;
&lt;head&gt;
  &lt;script&gt;
    alert("스크립트 실행 중 → HTML 파싱 멈춤");
  &lt;/script&gt;
&lt;/head&gt;
</code></pre>
    <div class="callout">Tip: <code>defer</code> 속성을 사용하면 HTML 파싱을 막지 않고, 문서 파싱 완료 후 실행됩니다.</div>

    <h2>비동기 로딩과 성능 최적화</h2>
    <p>
      성능을 높이기 위해 스크립트와 리소스를 비동기로 로딩할 수 있습니다.<br />
      <strong>왜 필요한가?</strong> → 사용자가 페이지를 더 빠르게 볼 수 있도록 하기 위해서입니다.
    </p>
    <table>
      <tr>
        <th>속성</th>
        <th>실행 시점</th>
        <th>실행 순서 보장</th>
        <th>적합한 경우</th>
      </tr>
      <tr>
        <td>defer</td>
        <td>HTML 파싱 끝난 후</td>
        <td>O</td>
        <td>메인 로직, DOM 조작</td>
      </tr>
      <tr>
        <td>async</td>
        <td>다운로드 끝난 즉시</td>
        <td>X</td>
        <td>독립 스크립트 (광고, 분석)</td>
      </tr>
    </table>
    <ul>
      <li><strong>Lazy Loading:</strong> 이미지나 리소스를 필요할 때만 불러오기 → 초기 로딩 속도 개선</li>
    </ul>

    <h2>실습 과제</h2>
    <p>직접 실험해보면 해석 과정을 더 잘 이해할 수 있습니다.</p>
    <ul>
      <li>스크립트를 <code>&lt;head&gt;</code>에 넣었을 때와 <code>&lt;/body&gt;</code> 직전에 넣었을 때 실행 순서 비교하기 → <em>head에 넣으면 화면 표시가 늦어짐, body 직전이면 DOM 먼저 표시됨</em></li>
      <li><code>DOMContentLoaded</code> 이벤트를 활용해 버튼 클릭 시 메시지 출력하기 → <em>DOM 준비 후 안전하게 실행됨</em></li>
      <li><code>defer</code>와 <code>async</code> 속성을 각각 적용해 실행 결과 비교하기 → <em>defer는 순서 보장, async는 순서 보장 없음</em></li>
    </ul>

    <div class="callout">Tip: 브라우저 해석 과정을 이해하면 단순히 “코드가 실행된다”가 아니라 “왜 이 시점에 실행되는지, 어떤 영향을 주는지”까지 알 수 있어 성능 최적화와 오류 방지에 큰 도움이 됩니다.</div>
  </body>
</html>
