<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>자바스크립트 기본 문법 완전 가이드</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      --bg: #f9fafb;
      --card: #ffffff;
      --text: #111827;
      --muted: #6b7280;
      --primary: #2563eb;
      --border: #e5e7eb;
      --code-bg: #0f172a;
      --code-fg: #e5e7eb;
      --accent: #10b981;
    }
    body { font-family: Arial, sans-serif; line-height: 1.7; margin: 24px; background: var(--bg); color: var(--text); }
    h1 { margin-bottom: 8px; }
    h2 { margin-top: 36px; border-bottom: 2px solid var(--border); padding-bottom: 6px; }
    h3 { margin-top: 24px; color: #1f2937; }
    h4 { margin-top: 18px; color: #374151; }
    p.lead { color: var(--muted); margin-top: 0; }
    .card { background: var(--card); border: 1px solid var(--border); border-radius: 10px; padding: 16px 18px; margin-top: 18px; }
    ul { margin: 8px 0 16px; }
    li { margin: 6px 0; }
    pre { background: var(--code-bg); color: var(--code-fg); padding: 12px; border-radius: 8px; overflow-x: auto; }
    code { background: #eef2ff; color: #1e293b; padding: 1px 4px; border-radius: 4px; }
    .example { background: #f1f5f9; padding: 8px 10px; border-left: 4px solid var(--primary); margin: 10px 0; border-radius: 6px; }
    .note { font-size: 14px; color: var(--muted); }
    .grid { display: grid; grid-template-columns: 1fr; gap: 14px; }
    @media (min-width: 900px) { .grid-2 { grid-template-columns: 1fr 1fr; } }
    .kbd { background: #111827; color: #fff; padding: 2px 6px; border-radius: 4px; font-size: 12px; }
  </style>
</head>
<body>
  <h1>자바스크립트 기본 문법 완전 가이드</h1>
  <p class="lead">이 문서 하나만 보고도 자바스크립트의 기본 문법을 이해할 수 있도록, 항목별로 개념과 예제를 세밀하게 설명했습니다.</p>

  <div class="card">
    <h2>1. 문법적 특징</h2>

    <h3>1.1 대소문자 구분</h3>
    <p>자바스크립트는 대소문자를 엄격히 구분합니다. <code>Name</code>과 <code>name</code>은 서로 다른 식별자입니다. 관례적으로 <b>카멜케이스</b>(예: <code>userName</code>)를 사용합니다.</p>
    <div class="example">
      <pre><code>let Name = "대문자";
let name = "소문자";
console.log(Name); // "대문자"
console.log(name); // "소문자"
// 서로 다른 변수이므로 둘 다 존재</code></pre>
    </div>

    <h3>1.2 세미콜론(ASI)</h3>
    <p>자바스크립트는 자동 세미콜론 삽입(ASI)을 합니다. 하지만 줄바꿈이나 즉시 실행 함수(IIFE) 같은 특정 상황에서 오동작을 막기 위해 <b>세미콜론을 명시</b>하는 습관이 안전합니다.</p>
    <div class="example">
      <pre><code>let a = 1
;(function(){ console.log("IIFE 안전 실행"); })(); // 앞에 세미콜론으로 분리
// ASI가 예상치 못한 결합을 만들 수 있음</code></pre>
    </div>

    <h3>1.3 주석</h3>
    <p>한 줄 주석은 <code>//</code>, 여러 줄 주석은 <code>/* ... */</code>를 사용합니다. 주석은 “무엇을 했는지”보다 “왜 그렇게 했는지”를 설명하는 것이 좋습니다.</p>
    <div class="example">
      <pre><code>// 한 줄 주석
const MAX = 100; // 상한값

/* 여러 줄 주석
- 이 함수는 데이터를 정규화합니다.
- 입력이 null인 경우 기본값을 사용합니다.
*/</code></pre>
    </div>
  </div>

  <div class="card">
    <h2>2. 변수와 상수</h2>

    <h3>2.1 var</h3>
    <p><code>var</code>는 <b>함수 스코프</b>이며, <b>중복 선언</b>이 가능합니다. 호이스팅 시 선언만 위로 올라가고 초기화는 그대로여서 <code>undefined</code>가 될 수 있습니다. 현대 코드에서는 지양합니다.</p>
    <div class="example">
      <pre><code>function f() {
  console.log(x); // undefined (호이스팅)
  var x = 10;
  var x = 20;     // 중복 선언 허용
  console.log(x); // 20
}
f();</code></pre>
    </div>

    <h3>2.2 let</h3>
    <p><code>let</code>은 <b>블록 스코프</b>이며 재할당이 가능합니다. 선언 이전에는 <b>일시적 사각지대(TDZ)</b>에 있어 접근 시 에러가 발생합니다.</p>
    <div class="example">
      <pre><code>{
  // console.log(y); // ReferenceError: TDZ
  let y = 10;
  y = 15;          // 재할당 가능
  console.log(y);  // 15
}</code></pre>
    </div>

    <h3>2.3 const</h3>
    <p><code>const</code>는 <b>블록 스코프</b>이며 <b>재할당 불가</b>입니다. 다만, 객체나 배열의 <b>내부 값 변경</b>은 가능합니다.</p>
    <div class="example">
      <pre><code>const user = { name: "효빈" };
// user = {}        // 재할당 불가 -> TypeError
user.name = "Hyobin"; // 속성 변경은 가능
console.log(user.name); // "Hyobin"</code></pre>
    </div>

    <h3>2.4 스코프 비교</h3>
    <p><code>var</code>는 함수 스코프, <code>let/const</code>는 블록 스코프입니다. 블록 내부에서 선언한 <code>let/const</code>는 바깥에서 접근할 수 없습니다.</p>
    <div class="example">
      <pre><code>function scopeTest() {
  if (true) {
    var v = "var: 함수 스코프";
    let l = "let: 블록 스코프";
    const c = "const: 블록 스코프";
  }
  console.log(v);   // OK
  // console.log(l); // ReferenceError
  // console.log(c); // ReferenceError
}
scopeTest();</code></pre>
    </div>
  </div>

  <div class="card">
    <h2>3. 자료형과 타입</h2>

    <h3>3.1 원시 타입</h3>

    <h4>3.1.1 Number</h4>
    <p><b>숫자</b>를 나타내는 타입입니다. 정수와 실수를 구분하지 않고 모두 <code>number</code>입니다. <code>NaN</code>, <code>Infinity</code> 같은 특수 값이 있습니다.</p>
    <div class="example">
      <pre><code>let a = 10;         // 정수
let b = 3.14;       // 실수
let c = 1 / 0;      // Infinity
let d = Number("x"); // NaN
console.log(typeof a, typeof b); // "number" "number"
console.log(c, d); // Infinity NaN</code></pre>
    </div>

    <h4>3.1.2 String</h4>
    <p><b>문자열</b>을 나타냅니다. 작은따옴표, 큰따옴표, 백틱(템플릿 리터럴)을 사용할 수 있습니다. 백틱은 표현식 삽입(<code>${...}</code>)이 가능합니다.</p>
    <div class="example">
      <pre><code>let name = "효빈";
let greet = '안녕하세요';
let msg = `환영합니다, ${name}님!`;
console.log(msg); // "환영합니다, 효빈님!"</code></pre>
    </div>

    <h4>3.1.3 Boolean</h4>
    <p><b>참/거짓</b>을 나타냅니다. 조건문과 논리 연산에 사용합니다.</p>
    <div class="example">
      <pre><code>let ok = true;
let fail = false;
console.log(ok && !fail); // true</code></pre>
    </div>

    <h4>3.1.4 null</h4>
    <p><b>의도적으로 비어 있음</b>을 표현합니다. typeof 결과가 <code>"object"</code>인 것은 역사적 버그입니다.</p>
    <div class="example">
      <pre><code>let v = null;
console.log(v, typeof v); // null "object"</code></pre>
    </div>

    <h4>3.1.5 undefined</h4>
    <p><b>값이 할당되지 않음</b>을 의미합니다. 선언만 하고 초기화하지 않은 변수의 기본값입니다.</p>
    <div class="example">
      <pre><code>let x;
console.log(x, typeof x); // undefined "undefined"</code></pre>
    </div>

    <h4>3.1.6 Symbol</h4>
    <p><b>고유한 식별자</b>를 만들기 위한 타입입니다. 같은 설명으로 생성해도 항상 서로 다릅니다.</p>
    <div class="example">
      <pre><code>const s1 = Symbol("id");
const s2 = Symbol("id");
console.log(s1 === s2); // false</code></pre>
    </div>

    <h4>3.1.7 BigInt</h4>
    <p><b>아주 큰 정수</b>를 안전하게 다룹니다. 뒤에 <code>n</code>을 붙여 리터럴을 만듭니다.</p>
    <div class="example">
      <pre><code>const big = 123456789012345678901234567890n;
console.log(typeof big); // "bigint"</code></pre>
    </div>

    <h3>3.2 참조 타입</h3>

    <h4>3.2.1 Object</h4>
    <p><b>키-값</b> 쌍 데이터 구조입니다. 메서드와 속성을 가질 수 있습니다.</p>
    <div class="example">
      <pre><code>const user = {
  name: "효빈",
  age: 25,
  hello() { return `안녕하세요, ${this.name}`; }
};
console.log(user.hello());</code></pre>
    </div>

    <h4>3.2.2 Array</h4>
    <p><b>순서 있는 값</b>의 집합입니다. 고차 함수(<code>map</code>, <code>filter</code>, <code>reduce</code>)를 적극 활용합니다.</p>
    <div class="example">
      <pre><code>const arr = [1, 2, 3, 4];
const doubled = arr.map(n => n * 2);     // [2,4,6,8]
const evens = arr.filter(n => n % 2 === 0); // [2,4]
const sum = arr.reduce((acc, n) => acc + n, 0); // 10
console.log(doubled, evens, sum);</code></pre>
    </div>

    <h4>3.2.3 Function</h4>
    <p><b>실행 가능한 값</b>이며, 일급 객체입니다. 변수에 담고 인자로 전달할 수 있습니다.</p>
    <div class="example">
      <pre><code>function add(a, b) { return a + b; }
const calc = (fn, x, y) => fn(x, y);
console.log(calc(add, 2, 3)); // 5</code></pre>
    </div>

    <h3>3.3 동적 타이핑</h3>
    <p>같은 변수에 서로 다른 타입의 값이 들어갈 수 있습니다. 유연하지만, 예상치 못한 형 변환에 주의해야 합니다.</p>
    <div class="example">
      <pre><code>let value = 10;
console.log(typeof value); // "number"
value = "열";
console.log(typeof value); // "string"</code></pre>
    </div>

    <h3>3.4 형 변환</h3>
    <p><b>암시적 변환</b>은 연산 중 자동으로 일어나고, <b>명시적 변환</b>은 개발자가 직접 수행합니다.</p>
    <div class="example">
      <pre><code>// 암시적
console.log("5" + 1); // "51" (문자열 결합)
console.log("5" - 1); // 4   (숫자 연산)
console.log(!!"");    // false (truthy/falsy)

// 명시적
console.log(Number("123")); // 123
console.log(String(123));   // "123"
console.log(Boolean(0));    // false</code></pre>
    </div>
  </div>

  <div class="card">
    <h2>4. 함수와 스코프</h2>

    <h3>4.1 함수 선언식</h3>
    <p><code>function</code> 키워드로 선언합니다. <b>호이스팅</b>되어 선언 이전에도 호출 가능합니다.</p>
    <div class="example">
      <pre><code>greet(); // 선언 전에 호출 가능
function greet() {
  console.log("안녕하세요!");
}</code></pre>
    </div>

    <h3>4.2 함수 표현식</h3>
    <p>함수를 값으로 취급해 변수에 할당합니다. <b>호이스팅으로 미리 호출할 수는 없습니다</b>.</p>
    <div class="example">
      <pre><code>// hello(); // TypeError: hello is not a function
const hello = function() {
  console.log("Hello");
};
hello();</code></pre>
    </div>

    <h3>4.3 화살표 함수</h3>
    <p><b>간결한 문법</b>과 <b>암시적 반환</b>을 제공합니다. 자신만의 <code>this</code>를 갖지 않고 상위 <code>this</code>를 캡처합니다.</p>
    <div class="example">
      <pre><code>const double = x => x * 2; // 한 줄 암시적 반환
console.log(double(5)); // 10

const obj = {
  val: 42,
  get: () => this.val // 화살표는 상위 this를 캡처: 여기선 기대한 동작이 아닐 수 있음
};
console.log(obj.get()); // undefined (주의)</code></pre>
    </div>

    <h3>4.4 this 바인딩</h3>
    <p><code>this</code>는 호출 방식에 따라 달라집니다. 메서드로 호출하면 객체를 가리키고, 단독 함수는 <b>엄격 모드</b>에서 <code>undefined</code>를 가리킵니다.</p>
    <div class="example">
      <pre><code>"use strict";
const counter = {
  n: 0,
  inc() { this.n++; return this.n; }
};
const f = counter.inc;
try { f(); } catch (e) {
  console.log("엄격 모드에서 단독 호출은 this가 undefined:", e.message);
}
console.log(counter.inc()); // 1</code></pre>
    </div>

    <h3>4.5 클로저</h3>
    <p>함수가 <b>자신이 선언된 환경</b>의 변수를 기억하여 나중에 사용할 수 있는 특성입니다. 상태 유지, 정보 은닉에 유용합니다.</p>
    <div class="example">
      <pre><code>function makeCounter() {
  let n = 0;
  return {
    inc: () => ++n,
    val: () => n
  };
}
const c = makeCounter();
console.log(c.inc()); // 1
console.log(c.val()); // 1</code></pre>
    </div>

    <h3>4.6 스코프 종류</h3>
    <p><b>전역</b>, <b>함수</b>, <b>블록</b> 스코프가 있습니다. <code>let/const</code>는 블록 스코프를 생성합니다.</p>
    <div class="example">
      <pre><code>let g = "전역";
function fn() {
  var f = "함수";
  if (true) {
    let b = "블록";
    console.log(g, f, b); // 전역, 함수, 블록
  }
  // console.log(b); // ReferenceError
}
fn();</code></pre>
    </div>
  </div>

  <div class="card">
    <h2>5. 제어문</h2>

    <h3>5.1 조건문</h3>
    <p><b>if/else</b>는 가장 기본적인 조건문입니다. <b>switch</b>는 여러 경우를 깔끔하게 처리하며 <code>break</code>를 잊지 마세요.</p>
    <div class="example">
      <pre><code>const score = 85;
if (score >= 90) console.log("A");
else if (score >= 80) console.log("B");
else console.log("C 이하");

const key = "b";
switch (key) {
  case "a": console.log("A"); break;
  case "b": console.log("B"); break;
  default: console.log("기타");
}</code></pre>
    </div>

    <h3>5.2 반복문</h3>
    <p><b>for</b>, <b>while</b>, <b>do...while</b>은 기본 반복문입니다. <b>for...of</b>는 <b>값</b>을, <b>for...in</b>은 <b>키</b>를 순회합니다.</p>
    <div class="example">
      <pre><code>for (let i = 0; i < 3; i++) console.log("for", i);

let n = 0;
while (n < 2) { console.log("while", n); n++; }

let m = 0;
do { console.log("do...while", m); m++; } while (m < 2);

const arr = ["a", "b"];
for (const v of arr) console.log("of", v); // 값

const obj = { x: 1, y: 2 };
for (const k in obj) console.log("in", k, obj[k]); // 키</code></pre>
    </div>

    <h3>5.3 논리 연산자</h3>
    <p><code>&&</code>는 좌측이 truthy면 우측을, <code>||</code>는 좌측이 falsy면 우측을 반환합니다. <code>!</code>는 부정, <code>??</code>는 <b>null/undefined</b>일 때만 우측을 반환합니다.</p>
    <div class="example">
      <pre><code>console.log(true && "OK");      // "OK"
console.log(false && "OK");     // false
console.log("" || "기본값");     // "기본값"
console.log(0 || 42);           // 42
console.log(!true);             // false
console.log(null ?? "대체");     // "대체"
console.log("" ?? "대체");       // "" (null/undefined만 대체)</code></pre>
    </div>
  </div>

  <div class="card">
    <h2>부록: DOM 조작과 안전한 출력</h2>
    <p>웹 브라우저 환경에서 문서를 조작하는 기본 방법입니다. 사용자 입력을 그대로 <code>innerHTML</code>로 출력하면 보안 문제가 생길 수 있어 <code>innerText</code>를 사용하세요.</p>
    <div class="grid grid-2">
      <div>
        <div class="example">
          <pre><code>// 안전한 텍스트 출력
document.getElementById("safe").innerText = "&lt;b&gt;굵게?&lt;/b&gt; 텍스트로 표시됩니다.";

// HTML 해석 출력 (주의!)
document.getElementById("html").innerHTML = "<b>굵게!</b> 태그가 적용됩니다.";</code></pre>
        </div>
      </div>
      <div>
        <p id="safe" class="note">여기에 텍스트가 출력됩니다.</p>
        <p id="html" class="note">여기에 HTML이 적용되어 출력됩니다.</p>
      </div>
    </div>
  </div>

  <script>
    // 부록 예제 실행
    document.getElementById("safe").innerText = "<b>굵게?</b> 텍스트로 안전하게 출력됩니다.";
    document.getElementById("html").innerHTML = "<b>굵게!</b> 태그가 실제로 적용됩니다.";
  </script>
</body>
</html>